<!-- Contenedor principal del carrusel/hero -->
<div style="position: absolute; width: 100%; top: 60px;">

  <div class="hero-container">
    <!-- Imagen de fondo -->
    @if(moviePoster){
      <img
        class="hero-background"
        ngSrc="{{ moviePoster.poster_url }}"
        width="100%"
        height="100%"
        priority
        fill
        (load)="loaded=true"
        [class.loaded]="loaded"
        alt="Póster de {{ moviePoster.title_snapshoot }}"
      />

      <!-- Contenido superpuesto -->
      <div class="hero-content">
        <h1>{{moviePoster.title_snapshoot}}</h1>
        <p>

        </p>
        <div class="hero-buttons">
          <button
            mat-stroked-button
            style="color: white;"
            [routerLink]="['/movies', moviePoster.movieId]"
            >Ver cartelera</button>
        </div>
      </div>

    }@else {
      <p-skeleton width="24rem" height="24rem"></p-skeleton>
    }

  </div>

  <!-- Sección de películas "trending" -->
  <div class="trending-movies-container">
    <h2 style="color: rgba(255, 255, 255, 0.9);">Mas Destacadas</h2>
    <swiper-container
      [breakpoints]="swiperBreakpoints"
      class="swiper-carrousel"
      navigation="true"
      slides-per-view="2"
      loop="true"
      [lazy]="{ loadPrevNext: true, loadPrevNextAmount: 2 }"
      >
      @for(movie of moviesCarrusel; track movie.externalMovieId){
        <swiper-slide class="text-center p-2">
          @if(moviesCarrusel.length){
            <img
              (load)="loaded=true"
              [class.loaded]="loaded"
              (click)="selectMovie(movie)"
              [ngSrc]="movie.img_url"
              width="150"
              height="200"
              priority
              style="border-radius: 12px;"
              class="movie-posters"
            >
          }@else {
            <p-skeleton width="6rem" height="8rem"></p-skeleton>
            <p-skeleton width="6rem" height="8rem"></p-skeleton>
            <p-skeleton width="6rem" height="8rem"></p-skeleton>
            <p-skeleton width="6rem" height="8rem"></p-skeleton>
          }

        </swiper-slide>
      }

    </swiper-container>

  </div>

</div>
