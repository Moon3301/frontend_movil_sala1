<mat-dialog-actions>
  <div class="row">
    <div class="col-12 d-flex align-items-center">
      <!-- BotÃ³n de cierre en el extremo derecho -->
      <button class="btn-close" style="background-color: white;" (click)="onClose()"></button>
    </div>
  </div>
</mat-dialog-actions>
<mat-dialog-content class="dialog-content">

  @for(showtime of dataShowtimes.showtimes; track showtime){

    <mat-card style="border: 1px solid rgb(31, 31, 31);">
      <mat-card-header>
        <mat-card-title>{{showtime.cinemaName}}</mat-card-title>
      </mat-card-header>
      <hr>
      <mat-card-content>
        <!-- <mat-card-subtitle>Funciones: </mat-card-subtitle> -->
        <div class="row">
          @for (schedule of showtime.showtimes; track schedule) {

            <div class="col-6 col-md-2">
              @if(cinemaType === 'Cinepolis'){
                <button mat-button

                  [disabled]="isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType)"
                  [ngStyle]="!isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType) ? {'color': 'rgb(3, 126, 3)'} : {}"
                  (click)="buildUrlPaymentCinepolis(
                  showtime.vistaId,
                  schedule.showtimeExternalId)"
                  class="notranslate" translate="no"
                  >

                {{ schedule.showtime }} {{schedule.language}}</button>

              }@else if
              (cinemaType === 'Cinemark'){
                <button mat-button
                [disabled]="isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType)"
                [ngStyle]="!isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType) ? {'color': 'rgb(3, 126, 3)'} : {}"
                (click)="buildUrlPaymentCinemark(
                  showtime.cinemaExternalId,
                  schedule.showtimeExternalId,
                  schedule.showdate,
                  schedule.showtime,
                  showtime.cinemaSlug,
                  schedule.sessionId)"
                  class="notranslate" translate="no"
                  >

                {{ schedule.showtime }} {{schedule.language}}</button>

              }@else if
              (cinemaType === 'Cineplanet'){
                <button mat-button
                [disabled]="isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType)"
                [ngStyle]="!isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType) ? {'color': 'rgb(3, 126, 3)'} : {}"
                (click)="buildUrlPaymentCineplanet(
                    showtime.version.title,
                    showtime.cinemaExternalId,
                    schedule.sessionId
                  )"
                  class="notranslate" translate="no"
                  >

                {{ schedule.showtime }} {{schedule.language}}</button>

              }@else if
              (cinemaType === 'Muvix'){
                <button mat-button
                [disabled]="isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType)"
                [ngStyle]="!isButtonDisabled(schedule.showtime, schedule.showdate, cinemaType) ? {'color': 'rgb(3, 126, 3)'} : {}"
                  (click)="buildUrlPaymentMuvix(
                    showtime.cinemaExternalId,
                    schedule.sessionId
                  )"
                  class="notranslate" translate="no"
                  >

                {{ schedule.showtime }} {{schedule.language}}</button>

              }

            </div>

          }

        </div>
      </mat-card-content>

    </mat-card>
    <br>

  }

</mat-dialog-content>

<mat-dialog-actions>

</mat-dialog-actions>
